import endangerment from '../assets/endangerment.json';

enum EndangermentStatus {
    EE = 'Extinct in the Wild',
    EX = 'Extinct',
    CR = 'Critically Endangered',
    EN = 'Endangered',
    VU = 'Vulnerable',
    NT = 'Near Threatened',
    LC = 'Least Concern',
    DD = 'Data Deficient',
    NE = 'Not Evaluated',
    UNKNOWN = 'Unknown'
}

const endangermentCodes = {
    ee: EndangermentStatus.EE,
    ex: EndangermentStatus.EX,
    cr: EndangermentStatus.CR,
    en: EndangermentStatus.EN,
    vu: EndangermentStatus.VU,
    nt: EndangermentStatus.NT,
    lc: EndangermentStatus.LC,
    dd: EndangermentStatus.DD,
    ne: EndangermentStatus.NE,
    unknown: EndangermentStatus.UNKNOWN
};

function getEndangermentCode(code: string): EndangermentStatus {
    return endangermentCodes[code.toLowerCase().trim()] || EndangermentStatus.UNKNOWN;
}

function getSpeciesEndangerment(species: string): EndangermentStatus {
    return getEndangermentCode(endangerment[species.toLowerCase().trim()] || 'unknown');
}

export { EndangermentStatus, getSpeciesEndangerment };
